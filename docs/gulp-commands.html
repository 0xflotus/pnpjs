<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>@pnp - SharePoint Patterns and Practices JavaScript Libraries</title>
    <link rel="stylesheet" href="/pnp/css/highlightjs-github.css">
    <link rel="stylesheet" href="/pnp/css/site.css">
</head>

<body>
    <header>
        <span id="headerText">
            <a href="/pnp">SharePoint Patterns and Practices</a>
        </span>
        <span id="subheaderText">Client Side Libraries</span>
    </header>

    <nav id="breadcrumbs">
        <a href="/pnp">@pnp</a>&nbsp;&nbsp;&gt;&nbsp;&nbsp;<a href="/pnp/gulp-commands.html">gulp commands</a>
    </nav>

    <article>
        <h1>Gulp Commands</h1>
<p>This library uses <a href="https://gulpjs.com/">Gulp</a> to orchestrate various tasks. The tasks described below are available for your use. Please review the
<a href="getting-started-dev.html">getting started for development</a> to ensure you’ve setup your environment correctly. The source for the gulp commands can be found in
the tools\gulptasks folder at the root of the project.</p>
<h2>Basics</h2>
<p>All gulp commands are run on the command line in the fashion shown below.</p>
<pre><code>gulp &lt;command&gt; [optional pararms]
</code></pre>
<h2>build</h2>
<p>The build command transpiles the solution from TypeScript into JavaScript using our custom <a href="build-system.html">build system</a>. It is controlled by the pnp-build.js file at
the project root.</p>
<h3>Build all of the packages</h3>
<pre><code>gulp build
</code></pre>
<h3>Building individual packages</h3>
<p>Note when building a single package none of the dependencies are currently built, so you need to specify in order those packages to build which are dependencies.</p>
<pre><code># fails
gulp build --p sp

# works as all the dependencies are built in order
gulp build --p logging,common,odata,sp
</code></pre>
<p>You can also build the packages and then not clean using the nc flag. So for example if you are working on the sp package you can build all the packages once, then
use the “nc” flag to leave those that aren’t changing.</p>
<pre><code># run once
gulp build --p logging,common,odata,sp

# run on subsequent builds
gulp build --p sp --nc
</code></pre>
<h2>clean</h2>
<p>The clean command removes all of the generated folders from the project and is generally used automatically before other commands to ensure there is a clean workspace.
This command does not remove the generated docs folder in case you are using them for reference you don’t have to continually generate them.</p>
<pre><code>gulp clean
</code></pre>
<p>To clean the docs use:</p>
<pre><code>gulp clean-docs
</code></pre>
<h2>docs</h2>
<p>The docs command builds the html documentation from the md files located in the docs-src folder and all of the package docs folders. This is the command used to generate
the <a href="https://pnp.github.io/pnp/">website</a> for each release and can be used locally to have an easily clickable reference. The entire site will be rebuilt each time.</p>
<pre><code>gulp docs
</code></pre>
<p>To aid in creating docs you can also run a command to watch, compile, and serve the docs allowing you to see your edits in real time. This will also enable live reload in
the browser.</p>
<pre><code>gulp docs-serve
</code></pre>
<h2>lint</h2>
<p>Runs the project linting based on the tslint.json rules defined at the project root. This should be done before any PR submissions as linting failures will block merging.</p>
<pre><code>gulp lint
</code></pre>
<h2>package</h2>
<p>Used to create the packages in the ./dist folder as they would exist for a release.</p>
<pre><code>gulp package
</code></pre>
<h3>Packaging individual packages</h3>
<p>You can also package individual packages, but as with build you must also package any dependencies at the same time.</p>
<pre><code>gulp package --p logging,common,odata,sp
</code></pre>
<h2>publish</h2>
<p>This command is only for use by package authors to publish a version to npm and is not for developer use.</p>
<h2>serve</h2>
<p>The serve command allows you to serve either code from the ./debug/serve folder OR an individual package for testing in the browser. The file will always be served as
<a href="https://localhost:8080/assets/pnp.js">https://localhost:8080/assets/pnp.js</a> so can create a static page in your tenant for easy testing of a variety of scenarios. NOTE that in most browsers this file will
be flagged as unsafe so you will need to trust it for it to execute on the page.</p>
<h3>debug serve</h3>
<p>When running the command with no parameters you will generate a package with the entry being based on the tsconfig.json file in ./debug/serve. By default this will
use serve.ts. This allows you to write any code you want to test to easily run it in the browser with all changes being watched and triggering a rebuild.</p>
<pre><code>gulp serve
</code></pre>
<h3>package serve</h3>
<p>If instead you want to test how a particular package will work in the browser you can serve just that package. In this case you do not need to specify the dependencies
and specifying multiple packages will throw an error. Packages will be injected into the global namespace on a variable named pnp.</p>
<pre><code>gulp serve --p sp
</code></pre>
<h2>test</h2>
<p>Runs the tests specified in each package’s tests folder</p>
<pre><code>gulp test
</code></pre>
<h3>Test individual packages</h3>
<p>You can test individual packages as needed, and there is no need to include dependencies in this case</p>
<pre><code># test the logging and sp packages
gulp test --p logging,sp
</code></pre>

    </article>

    <footer>
        &copy; Microsoft 2018
        <br /> Please
        <a href="https://github.com/pnp/pnp/issues/new?title=Documentation: gulp-commands.html&body=Please describe how we can improve the doc page:">report documentation issues/suggestions</a> to help us improve!
    </footer>
</body>

</html><img src="https://telemetry.sharepointpnp.com/@pnp/pnp/ghpages/gulp-commands" alt="spacer" />